<!DOCTYPE html>
<html lang="en-US">

  <head>
    <meta charset="UTF-8">

<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Exporting, Testing, and Deploying | blog</title>
<meta property="og:title" content="Exporting, Testing, and Deploying" />
<meta property="og:locale" content="en_US" />
<link rel="canonical" href="http://localhost:4000/posts/tf_start_to_finish/export.html" />
<meta property="og:url" content="http://localhost:4000/posts/tf_start_to_finish/export.html" />
<meta property="og:site_name" content="blog" />
<script type="application/ld+json">
{"name":null,"description":null,"url":"http://localhost:4000/posts/tf_start_to_finish/export.html","headline":"Exporting, Testing, and Deploying","dateModified":null,"datePublished":null,"sameAs":null,"@type":"WebPage","author":null,"image":null,"publisher":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="/assets/css/style.css?v=9a3e8e355f5c1ec57ecca580dd61a915ea141328">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name"><a href='/' style="color:white; text-decoration:none">TensorBits</a></h1>
      <h2 class="project-tagline"></h2>
      
    </section>

    <section class="main-content">
      <h1 id="part-6-exporting-testing-and-deploying">Part 6: Exporting, Testing, and Deploying</h1>

<h2 id="exporting">Exporting</h2>
<p>One of the nice things about using <a href="https://www.tensorflow.org/api_docs/python/tf/estimator/Estimator" target="_blank">Estimator</a> is that it handles the basic export for us.  Estimator saves checkpoints of all learnable weights so we can load them back in later.  The clunkiest part of saving/restoring models in TensorFlow is keeping the graph structure and graph weights (checkpoints) together.</p>

<p>An Estimator can’t be restored from just a checkpoint file (since it does not contain the structure of the model!) so we also need to save the structure.  TensorFlow does save a …, but …  The best way I’ve found to load back in the model for simple test cases or visualization is to import the <code class="highlighter-rouge">model_fn</code> an create an Estimator like we did during training.  This time, however, we pass the <code class="highlighter-rouge">output_dir</code> with the path to our saved checkpoints.</p>

<p>Exporting your model in production adds another level of complexity and is something I haven’t had to do yet.  See <a href="https://www.tensorflow.org/programmers_guide/saved_model#using_savedmodel_with_estimators" target="_blank">here</a> for details on exporting for production or wait for the next update to this blog.</p>

<h2 id="testing">Testing</h2>

<h2 id="deploying">Deploying</h2>
<p>Deploying a TensorFlow model in production is something I haven’t had to do yet.  Hopefully more on this later but for now you should be able to find good documentation <a href="https://www.tensorflow.org/programmers_guide/saved_model#using_savedmodel_with_estimators" target="_blank">here</a> and <a href="https://www.tensorflow.org/deploy/" target="_blank">here</a>.</p>

<hr />

<h2 id="continue-reading">Continue Reading</h2>

<p><button onclick="location.href='summary'" class="continue-links">Continue to Part 7</button>
Part 7 summarizes all the pieces so far and how to put them all together.</p>

<hr />

<div style="text-align: center;">
    <button onclick="location.href='introduction'" class="continue-links">Introduction</button>
    <button onclick="location.href='setup'" class="continue-links">Part 1: Setup</button>
    <button onclick="location.href='dataprep'" class="continue-links">Part 2: Preparing Data</button>
    <button onclick="location.href='dataload'" class="continue-links">Part 3: Consuming Data</button>
    <button onclick="location.href='model'" class="continue-links">Part 4: Defining a Model</button>
    <button onclick="location.href='traineval'" class="continue-links">Part 5: Training and Evaluating</button>
    <button onclick="location.href='export'" class="continue-links">Part 6: Exporting, Testing, and Deploying</button>
    <button onclick="location.href='summary'" class="continue-links">Part 7: All Together Now</button>
    <button onclick="location.href='references'" class="continue-links">Part 8: Furthur Reading and References</button>
</div>


      <footer class="site-footer">
        <div style="text-align: center">
          <span class="site-social-media">
            
              <a href="https://twitter.com/crosleythomas" style="padding:10px 20px" target="_blank">
                <i class="fa fa-twitter"></i> Twitter
              </a>
            
            
            
              <a href="https://github.com/crosleythomas" style="padding:10px 20px" target="_blank">
                <i class="fa fa-github"></i> GitHub
              </a>
            

            
              <a href="https://linkedin.com/in/crosleythomas" style="padding:10px 20px" target="_blank">
                <i class="fa fa-linkedin"></i> LinkedIn
              </a>
            

            

            
          </span>
          <br><br><br>
        </div>


        
          <span class="site-footer-owner"><a href="http://github.com/crosleythomas/blog">Blog</a> is maintained by <a href="http://github.com/crosleythomas">crosleythomas</a>.</span>
        
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a>.</span>
      </footer>
    </section>

    
  </body>
</html>